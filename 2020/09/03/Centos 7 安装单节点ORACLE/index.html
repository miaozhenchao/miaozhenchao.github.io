<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Centos 7 安装ORACLE | ZhenChaoNotes</title><meta name="description" content="[TOC] Centos 7 安装ORACLEoracle 和 mysql的区别 (1) 对事务的提交   MySQL默认是自动提交，而Oracle默认不自动提交，需要用户手动提交，需要在写commit;指令或者点击commit按钮(2) 分页查询   MySQL是直接在SQL语句中写”select… from …where…limit x, y”,有limit就可以实现分页;而Oracle则是需"><meta name="keywords" content="oracle"><meta name="author" content="MiaoZhenChao"><meta name="copyright" content="MiaoZhenChao"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://www.luanyu.cool/2020/09/03/Centos%207%20%E5%AE%89%E8%A3%85%E5%8D%95%E8%8A%82%E7%82%B9ORACLE/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="article"><meta property="og:title" content="Centos 7 安装ORACLE"><meta property="og:url" content="http://www.luanyu.cool/2020/09/03/Centos%207%20%E5%AE%89%E8%A3%85%E5%8D%95%E8%8A%82%E7%82%B9ORACLE/"><meta property="og:site_name" content="ZhenChaoNotes"><meta property="og:description" content="[TOC] Centos 7 安装ORACLEoracle 和 mysql的区别 (1) 对事务的提交   MySQL默认是自动提交，而Oracle默认不自动提交，需要用户手动提交，需要在写commit;指令或者点击commit按钮(2) 分页查询   MySQL是直接在SQL语句中写”select… from …where…limit x, y”,有limit就可以实现分页;而Oracle则是需"><meta property="og:image" content="https://ssyerv1.oss-cn-hangzhou.aliyuncs.com/picture/94e85eeb4f4c4446b014713b6b93df8b.jpg!sswm"><meta property="article:published_time" content="2020-09-03T03:16:20.000Z"><meta property="article:modified_time" content="2020-09-08T03:17:08.239Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'false'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="prev" title="VMware安装windows server 2012 r2详细教程" href="http://www.luanyu.cool/2020/09/04/VMware%E5%AE%89%E8%A3%85Windows%20server%202012%20R2/"><link rel="next" title="学习强国本地题库-8月22日" href="http://www.luanyu.cool/2020/08/22/%E5%AD%A6%E4%B9%A0%E5%BC%BA%E5%9B%BD%E6%9C%AC%E5%9C%B0%E9%A2%98%E5%BA%93-8%E6%9C%8822%E6%97%A5/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: {"languages":{"author":"作者: MiaoZhenChao","link":"链接: ","source":"来源: ZhenChaoNotes","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: true    
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true
  }</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><link rel="stylesheet" href="/css/background.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/css/touming.css"><link rel="stylesheet" href="/css/iconfont.css"><script src="/js/sakura.js"></script><div class="aplayer" data-id="5184835907" data-server="netease" data-type="playlist" data-fixed="true" data-listFolded="false" data-order="random" data-preload="auto"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lete114/CDN/music/APlayer/APlayer.min.css"><script src="https://cdn.jsdelivr.net/gh/lete114/CDN/music/APlayer/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js"></script><meta name="generator" content="Hexo 4.2.1"></head><body><canvas class="fireworks"></canvas><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">96</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">74</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">54</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw iconfont  icon-liuyanban"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/diary/"><i class="fa-fw iconfont  icon-riji"></i><span> 舔狗日记</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 个人简历</span></a></div></div></div></div><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Centos-7-安装ORACLE"><span class="toc-number">1.</span> <span class="toc-text">Centos 7 安装ORACLE</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#oracle-和-mysql的区别"><span class="toc-number">1.1.</span> <span class="toc-text">oracle 和 mysql的区别</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#一、准备工作"><span class="toc-number">1.1.1.</span> <span class="toc-text">一、准备工作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#二、安装依赖包"><span class="toc-number">1.1.2.</span> <span class="toc-text">二、安装依赖包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#三、环境配置"><span class="toc-number">1.1.3.</span> <span class="toc-text">三、环境配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#四、登录后测试"><span class="toc-number">1.1.4.</span> <span class="toc-text">四、登录后测试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#五、sql基础"><span class="toc-number">1.1.5.</span> <span class="toc-text">五、sql基础</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#六、扩展"><span class="toc-number">1.1.6.</span> <span class="toc-text">六、扩展</span></a></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="color"></div><header class="post-bg" id="page-header" style="background-image: url(https://ssyerv1.oss-cn-hangzhou.aliyuncs.com/picture/94e85eeb4f4c4446b014713b6b93df8b.jpg!sswm)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">ZhenChaoNotes</a></span><span class="pull-right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw iconfont  icon-liuyanban"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/diary/"><i class="fa-fw iconfont  icon-riji"></i><span> 舔狗日记</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 个人简历</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">Centos 7 安装ORACLE</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date" title="发表于 2020-09-03 11:16:20"><i class="fa-fw far fa-calendar-alt"></i> 发表于 2020-09-03</time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fas fa-inbox fa-fw post-meta__icon"></i><a class="post-meta__categories" href="/categories/oracle/">oracle</a></span></div><div class="meta-secondline"> <span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta__icon"></i><span>字数总计:</span><span class="word-count">3.2k</span><span class="post-meta__separator">|</span><i class="far fa-clock fa-fw post-meta__icon"></i><span>阅读时长: 12 分钟</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="far fa-eye fa-fw post-meta__icon"></i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"><span class="post-meta__separator">|</span><i class="far fa-comments fa-fw post-meta__icon"></i><span>评论数:</span><span class="disqus-comment-count comment-count"><a href="http://www.luanyu.cool/2020/09/03/Centos%207%20%E5%AE%89%E8%A3%85%E5%8D%95%E8%8A%82%E7%82%B9ORACLE/#disqus_thread"></a></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><p>[TOC]</p>
<h1 id="Centos-7-安装ORACLE"><a href="#Centos-7-安装ORACLE" class="headerlink" title="Centos 7 安装ORACLE"></a>Centos 7 安装ORACLE</h1><h2 id="oracle-和-mysql的区别"><a href="#oracle-和-mysql的区别" class="headerlink" title="oracle 和 mysql的区别"></a>oracle 和 mysql的区别</h2><blockquote>
<p><strong>(1) 对事务的提交</strong><br>   MySQL默认是自动提交，而Oracle默认不自动提交，需要用户手动提交，需要在写commit;指令或者点击commit按钮<br><strong>(2) 分页查询</strong><br>   MySQL是直接在SQL语句中写”select… from …where…limit x, y”,有limit就可以实现分页;而Oracle则是需要用到伪列ROWNUM和嵌套查询<br><strong>(3) 事务隔离级别</strong><br>    MySQL是read commited的隔离级别，而Oracle是repeatable read的隔离级别，同时二者都支持serializable串行化事务隔离级别，可以实现最高级别的<br>   读一致性。每个session提交后其他session才能看到提交的更改。Oracle通过在undo表空间中构造多版本数据块来实现读一致性，每个session<br>   查询时，如果对应的数据块发生变化，Oracle会在undo表空间中为这个session构造它查询时的旧的数据块<br>  MySQL没有类似Oracle的构造多版本数据块的机制，只支持read commited的隔离级别。一个session读取数据时，其他session不能更改数据，但<br>   可以在表最后插入数据。session更新数据时，要加上排它锁，其他session无法访问数据<br><strong>(4) 对事务的支持</strong><br>   MySQL在innodb存储引擎的行级锁的情况下才可支持事务，而Oracle则完全支持事务<br><strong>(5) 保存数据的持久性</strong><br>   MySQL是在数据库更新或者重启，则会丢失数据，Oracle把提交的sql操作线写入了在线联机日志文件中，保持到了磁盘上，可以随时恢复<br><strong>(6) 并发性</strong><br>   MySQL以表级锁为主，对资源锁定的粒度很大，如果一个session对一个表加锁时间过长，会让其他session无法更新此表中的数据。<br> 虽然InnoDB引擎的表可以用行级锁，但这个行级锁的机制依赖于表的索引，如果表没有索引，或者sql语句没有使用索引，那么仍然使用表级锁。<br> Oracle使用行级锁，对资源锁定的粒度要小很多，只是锁定sql需要的资源，并且加锁是在数据库中的数据行上，不依赖与索引。所以Oracle对并发性的支持要好很多。<br> <strong>(7) 逻辑备份</strong><br>MySQL逻辑备份时要锁定数据，才能保证备份的数据是一致的，影响业务正常的dml使用,Oracle逻辑备份时不锁定数据，且备份的数据是一致<br>   <strong>(8) 复制</strong><br>MySQL:复制服务器配置简单，但主库出问题时，丛库有可能丢失一定的数据。且需要手工切换从库到主库。<br>   Oracle:既有推或拉式的传统数据复制，也有dataguard的双机或多机容灾机制，主库出现问题是，可以自动切换备库到主库，但配置管理较复杂。<br>   <strong>(9) 性能诊断</strong><br>MySQL的诊断调优方法较少，主要有慢查询日志。<br>   Oracle有各种成熟的性能诊断调优工具，能实现很多自动分析、诊断功能。比如awr、addm、sqltrace、tkproof等<br>   <strong>(10)权限与安全</strong><br>MySQL的用户与主机有关，感觉没有什么意义，另外更容易被仿冒主机及ip有可乘之机。<br>   Oracle的权限与安全概念比较传统，中规中矩。<br>   <strong>(11)分区表和分区索引</strong><br>MySQL的分区表还不太成熟稳定。<br>   Oracle的分区表和分区索引功能很成熟，可以提高用户访问db的体验。<br>   <strong>(12)管理工具</strong><br>MySQL管理工具较少，在linux下的管理工具的安装有时要安装额外的包（phpmyadmin， etc)，有一定复杂性。<br>   Oracle有多种成熟的命令行、图形界面、web管理工具，还有很多第三方的管理工具，管理极其方便高效。<br>   <strong>(13)最重要的区别</strong><br>MySQL是轻量型数据库，并且免费，没有服务恢复数据。<br>   Oracle是重量型数据库，收费，Oracle公司对Oracle数据库有数据恢复服务。</p>
</blockquote>
<h3 id="一、准备工作"><a href="#一、准备工作" class="headerlink" title="一、准备工作"></a>一、准备工作</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">将oracle11G 的软件包上传到服务器/tmp目录，并解压：</span><br><span class="line">[root@oracle ~]# unzip  p13390677_112040_Linux-x86-64_1of7.zip</span><br><span class="line">[root@oracle ~]# unzip  p13390677_112040_Linux-x86-64_2of7.zip</span><br><span class="line">关闭selinux，设置SELINUX= enforcing 为SELINUX=disabled</span><br><span class="line"></span><br><span class="line">关闭防火墙</span><br><span class="line">停止防火墙：systemctl stop firewalld</span><br><span class="line">关闭自启动防火墙服务：systemctl disable firewalld</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">修改主机名</span><br><span class="line">[root@oracle ~]# hostnamectl set-hostname oracle</span><br><span class="line"></span><br><span class="line">做本地解析(必须做，不然后面会报错)</span><br><span class="line">127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4</span><br><span class="line">::1         localhost localhost.localdomain localhost6 localhost6.localdomain6</span><br><span class="line">192.168.200.147 oracle</span><br><span class="line"></span><br><span class="line">ping oracle</span><br></pre></td></tr></table></figure>



<h3 id="二、安装依赖包"><a href="#二、安装依赖包" class="headerlink" title="二、安装依赖包"></a>二、安装依赖包</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 建议先检测哪些包没有安装</span></span><br><span class="line"></span><br><span class="line">[root@oracle ~]# yum -y install gcc make binutils gcc-c++ compat-libstdc++-33 elfutils-libelf-devel elfutils-libelf-devel-static ksh libaio libaio-devel numactl-devel sysstat unixODBC unixODBC-devel pcre-devel</span><br><span class="line"></span><br><span class="line">如果不能连网，可以先下载安装包copy到服务器，用rpm命令安装。不同系统版本的依赖包版本不一致，安装时需要下载对应版本的，以免安装失败。</span><br><span class="line">检查是否全部安装上</span><br><span class="line">rpm -q \</span><br><span class="line">binutils \</span><br><span class="line">compat-libstdc++-33 \</span><br><span class="line">elfutils-libelf \</span><br><span class="line">elfutils-libelf-devel \</span><br><span class="line">expat \</span><br><span class="line">gcc \</span><br><span class="line">gcc-c++ \</span><br><span class="line">glibc \</span><br><span class="line">glibc-common \</span><br><span class="line">glibc-devel \</span><br><span class="line">glibc-headers \</span><br><span class="line">libaio \</span><br><span class="line">libaio-devel \</span><br><span class="line">libgcc \</span><br><span class="line">libstdc++ \</span><br><span class="line">libstdc++-devel \</span><br><span class="line">make \</span><br><span class="line">pdksh \</span><br><span class="line">sysstat \</span><br><span class="line">unixODBC \</span><br><span class="line">unixODBC-devel | grep "not installed"</span><br></pre></td></tr></table></figure>



<h3 id="三、环境配置"><a href="#三、环境配置" class="headerlink" title="三、环境配置"></a>三、环境配置</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line">1、创建用户组</span><br><span class="line">[root@oracle ~]# groupadd oinstall</span><br><span class="line">[root@oracle ~]# groupadd dba</span><br><span class="line"></span><br><span class="line">2、输入命令 useradd -g oinstall -G dba -m oracle 创建oracle用户，并加入到oinstall和dba用户组</span><br><span class="line">[root@oracle ~]# useradd -g oinstall -G dba -m oracle</span><br><span class="line"></span><br><span class="line">3、修改oracle 密码</span><br><span class="line">[root@oracle ~]# passwd oracle</span><br><span class="line">设置oracle用户对应的密码</span><br><span class="line"></span><br><span class="line">4、修改内核参数</span><br><span class="line">[root@oracle ~]# vim /etc/sysctl.conf</span><br><span class="line">net.ipv4.icmp_echo_ignore_broadcasts = 1</span><br><span class="line">net.ipv4.conf.all.rp_filter = 1</span><br><span class="line">fs.file-max = 6815744 #设置最大打开文件数</span><br><span class="line">fs.aio-max-nr = 1048576</span><br><span class="line">kernel.shmall = 2097152 #共享内存的总量</span><br><span class="line">kernel.shmmax = 1073741824 #最大共享内存的段大小</span><br><span class="line">kernel.shmmni = 4096 #整个系统共享内存端的最大数</span><br><span class="line">kernel.sem = 250 32000 100 128</span><br><span class="line">net.ipv4.ip_local_port_range = 9000 65500 #可使用的IPv4端口范围</span><br><span class="line">net.core.rmem_default = 262144</span><br><span class="line">net.core.rmem_max= 4194304</span><br><span class="line">net.core.wmem_default= 262144</span><br><span class="line">net.core.wmem_max= 1048576</span><br><span class="line"></span><br><span class="line">[root@oracle ~]# sysctl -p # 生效配置</span><br><span class="line"></span><br><span class="line">5、修改软硬件限制</span><br><span class="line">[root@oracle ~]# vim /etc/security/limits.conf </span><br><span class="line"><span class="meta">#</span><span class="bash"> 添加以下配置：</span></span><br><span class="line"></span><br><span class="line">oracle	soft	nproc	2047</span><br><span class="line">oracle	hard	nproc	16384</span><br><span class="line">oracle	soft	nofile	1024</span><br><span class="line">oracle	hard	nofile	65536</span><br><span class="line">oracle	soft	stack	10240</span><br><span class="line">oracle	hard	stack	10240</span><br><span class="line"></span><br><span class="line">6、修改/etc/pam.d/login文件</span><br><span class="line">[root@oracle ~]# vim /etc/pam.d/login</span><br><span class="line"><span class="meta">#</span><span class="bash">添加：</span></span><br><span class="line">session  required   pam_limits.so</span><br><span class="line">session  required   /lib64/security/pam_limits.so</span><br><span class="line"></span><br><span class="line">7、执行命令：</span><br><span class="line">[root@oracle ~]# vim /etc/profile</span><br><span class="line"><span class="meta">#</span><span class="bash"> 添加：</span></span><br><span class="line"></span><br><span class="line">if [ $USER = "oracle" ]; then</span><br><span class="line">    if [ $SHELL = "/bin/ksh" ]; then</span><br><span class="line">        ulimit -p 16384</span><br><span class="line">        ulimit -n 65536</span><br><span class="line">    else</span><br><span class="line">        ulimit -u 16384 -n 65536</span><br><span class="line">    fi</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">[root@oracle ~]# source /etc/profile</span><br><span class="line"></span><br><span class="line">8、创建目录</span><br><span class="line">mkdir -p /data/oracle/product/11.2.0</span><br><span class="line">mkdir /data/oracle/oradata</span><br><span class="line">mkdir /data/oracle/inventory</span><br><span class="line">mkdir /data/oracle/fast_recovery_area</span><br><span class="line">chown -R oracle:oinstall /data/oracle</span><br><span class="line">chmod -R 775 /data/oracle</span><br><span class="line"></span><br><span class="line">9、配置环境变量：</span><br><span class="line">[root@oracle ~]# vim /home/oracle/.bash_profile</span><br><span class="line">ORACLE_BASE=/data/oracle</span><br><span class="line">ORACLE_HOME=$ORACLE_BASE/product/11.2.0</span><br><span class="line">ORACLE_SID=orcl</span><br><span class="line">PATH=$PATH:$ORACLE_HOME/bin</span><br><span class="line">export ORACLE_BASE ORACLE_HOME ORACLE_SID PATH</span><br><span class="line">export NLS_LANG=AMERICAN_AMERICA.AL32UTF8</span><br><span class="line">export NLS_DATE_FORMAT='yyyy-mm-dd hh24:mi:ss'</span><br><span class="line">stty erase ^h</span><br><span class="line">[root@oracle ~]# source /home/oracle/.bash_profile</span><br><span class="line"></span><br><span class="line">10、编辑静默安装相应文件，可以替换下面文件，修改ORACLE_HOSTNAME为主机名称。</span><br><span class="line"></span><br><span class="line">[root@oracle ~]# vim /tmp/database/response/db_install.rsp</span><br><span class="line">修改参数：</span><br><span class="line"> </span><br><span class="line">oracle.install.option=INSTALL_DB_SWONLY</span><br><span class="line">ORACLE_HOSTNAME=oracle</span><br><span class="line">UNIX_GROUP_NAME=oinstall</span><br><span class="line">INVENTORY_LOCATION=/data/oracle/inventory</span><br><span class="line">SELECTED_LANGUAGES=en,zh_CN</span><br><span class="line">ORACLE_HOME=/data/oracle/product/11.2.0</span><br><span class="line">ORACLE_BASE=/data/oracle</span><br><span class="line">oracle.install.db.InstallEdition=EE</span><br><span class="line">oracle.install.db.DBA_GROUP=dba</span><br><span class="line">oracle.install.db.OPER_GROUP=dba</span><br><span class="line">DECLINE_SECURITY_UPDATES=true</span><br><span class="line"></span><br><span class="line">安装数据库监听</span><br><span class="line">su - oracle</span><br><span class="line">cd /tmp/database</span><br><span class="line">[root@oracle ~]# ./runInstaller -silent -force -ignorePrereq -responseFile /tmp/database/response/db_install.rsp</span><br><span class="line"></span><br><span class="line">如果这里报错，可以查看下是否有swap分区</span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="https://i.loli.net/2020/04/13/u9EkGNYQsiF6pan.png" alt="image-20200412162828829"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">swapon -s 为空就没有</span><br><span class="line">解决：</span><br><span class="line">创建并允许 Swap 文件下面使用 dd 命令来创建 Swap 文件</span><br><span class="line">dd if=/dev/zero of=/swapfile bs=1024 count=512k</span><br><span class="line">格式化并激活 Swap 文件上面已经创建好 Swap 文件，还需要格式化后才能使用</span><br><span class="line">mkswap /swapfile</span><br><span class="line">激活 Swap</span><br><span class="line">swapon /swapfile</span><br><span class="line"></span><br><span class="line">11、在root用户下运行脚本</span><br><span class="line">exit</span><br><span class="line">sh /data/oracle/inventory/orainstRoot.sh</span><br><span class="line">sh /data/oracle/product/11.2.0/root.sh</span><br><span class="line"></span><br><span class="line">12、用oracle用户登录配置监听</span><br><span class="line">netca -silent -responseFile /tmp/database/response/netca.rsp</span><br></pre></td></tr></table></figure>

 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">正确结果:</span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="https://i.loli.net/2020/04/13/iWV2MKIUQ7zy6RA.png" alt="image-20200413112748886"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root用户查看监听端口： netstat -tnulp | grep 1521</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">建立新库和实例</span><br><span class="line">切换到root用户，执行命令： vim /tmp/database/response/dbca.rsp </span><br><span class="line"><span class="meta">#</span><span class="bash"> 修改参数：</span></span><br><span class="line">GDBNAME = "orcl"</span><br><span class="line">SID = "orcl"</span><br><span class="line">SYSPASSWORD = "oracle"</span><br><span class="line">SYSTEMPASSWORD = "oracle"</span><br><span class="line">SYSMANPASSWORD = "oracle"</span><br><span class="line">DBSNMPPASSWORD = "oracle"</span><br><span class="line">DATAFILEDESTINATION =/data/oracle/oradata</span><br><span class="line">RECOVERYAREADESTINATION=/data/oracle/fast_recovery_area</span><br><span class="line">CHARACTERSET = "ZHS16GBK"</span><br><span class="line">TOTALMEMORY = "1638"</span><br></pre></td></tr></table></figure>


<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">13、静默配置安装</span><br><span class="line">[root@oracle ~]# su - oracle</span><br><span class="line">[oracle@oracle ~]$ dbca -silent -responseFile /tmp/database/response/dbca.rsp</span><br><span class="line">[oracle@oracle ~]$ cp /data/oracle/product/11.2.0/assistants/dbca/templates/Seed_Database.dfb /data/oracle/oradata/</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 下面错误，无法找到Seed_Database.dfb 文件，在root下find出文件路径拷贝即可</span></span><br><span class="line">The file "/data/oracle/oradata/Seed_Database.dfb" containing the datafiles information is not found. Please specify a valid file.</span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="https://i.loli.net/2020/04/13/b7sDjHnmAtpBQlF.png" alt="image-20200412195346762"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">完成建库后进行实例检查：</span><br><span class="line">[root@oracle ~]# ps -ef | grep ora_ | grep -v grep</span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="https://i.loli.net/2020/04/13/PuJIqorNaOHDLsS.png" alt="image-20200412195424592"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">查看监听状态:lsnrctl status</span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="https://i.loli.net/2020/04/13/2EM7CL8cVNqARKS.png" alt="image-20200412195442766"></p>
<h3 id="四、登录后测试"><a href="#四、登录后测试" class="headerlink" title="四、登录后测试"></a>四、登录后测试</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">登录方式：</span><br><span class="line">- 以操作系统权限认证的oracle sys管理员登陆</span><br><span class="line">sqlplus / as sysdba</span><br><span class="line">- 不在cmd或者terminal当中暴露密码的登陆方式</span><br><span class="line">sqlplus /nolog</span><br><span class="line"><span class="meta">SQL&gt;</span><span class="bash"> conn /as sysdba </span></span><br><span class="line">或者</span><br><span class="line">sqlplus /nolog</span><br><span class="line"><span class="meta">SQL&gt;</span><span class="bash"> conn sys/password as sysdba</span></span><br><span class="line">- 非管理员用户登陆</span><br><span class="line">sqlplus user/password</span><br><span class="line">- 非管理员用户使用tns别名登陆</span><br><span class="line">sqlplus user/password@orcl </span><br><span class="line">- 管理员用户使用tns别名登陆</span><br><span class="line">sqlplus sys/password@orcl as sysdba</span><br><span class="line"></span><br><span class="line">1、登录查看实例状态</span><br><span class="line">sqlplus / as sysdba  # 登录</span><br><span class="line"><span class="meta">SQL&gt;</span><span class="bash"> startup <span class="comment"># 启动服务  关闭用 shutdown</span></span></span><br><span class="line">错误1：ORA-01081  # 服务已启动</span><br><span class="line"></span><br><span class="line">错误2：LRM-00109  # cp /u01/app/oracle/admin/orcl/pfile/init.ora.一串数字 /u01/app/oracle/product/11.2.0/dbs/initorcl.ora</span><br><span class="line">解决方法参考：http://yesican.blog.51cto.com/700694/471052</span><br><span class="line"></span><br><span class="line">错误3：LRM-01102  # 可以尝试重启机器得到解决，重启后报错可以参考：http://blog.csdn.net/lzwgood/article/details/26368323</span><br><span class="line"></span><br><span class="line">2、sqlplus中无法退格和上下翻动历史命令的解决办法</span><br><span class="line">安装rlwrap</span><br><span class="line">[root@oracle11g ~]# yum -y install readline* libXtst-devel</span><br><span class="line">[root@oracle11g ~]# tar -zxvf rlwrap-0.37.tar.gz</span><br><span class="line">[root@oracle11g ~]# cd rlwrap-0.37</span><br><span class="line">[root@oracle11g rlwrap-0.38]# ./configure</span><br><span class="line">[root@oracle11g rlwrap-0.38]# make</span><br><span class="line">[root@oracle11g rlwrap-0.38]# make install</span><br><span class="line">[oracle@oracle ~]$ vim /home/oracle/.bash_profile</span><br><span class="line">stty erase ^h</span><br><span class="line">alias sqlplus='rlwrap sqlplus'</span><br><span class="line">alias rman='rlwrap rman'</span><br><span class="line">Linux下的SQL Plus 终于可以像Windows下的那样使用了。</span><br></pre></td></tr></table></figure>



<h3 id="五、sql基础"><a href="#五、sql基础" class="headerlink" title="五、sql基础"></a>五、sql基础</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line">创建表空间：</span><br><span class="line">格式: <span class="keyword">create</span> <span class="keyword">tablespace</span> 表空间名 <span class="keyword">datafile</span> <span class="string">'数据文件名'</span> <span class="keyword">size</span> 表空间大小</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">tablespace</span> data_test <span class="keyword">datafile</span> <span class="string">'/data/oracle/oradata/orcl/data1.dbf'</span> <span class="keyword">size</span> <span class="number">2000</span>M;</span><br><span class="line"></span><br><span class="line">创建用户（密码使用双引号）：</span><br><span class="line">格式: <span class="keyword">create</span> <span class="keyword">user</span> 用户名 <span class="keyword">identified</span> <span class="keyword">by</span> 密码 <span class="keyword">default</span> <span class="keyword">tablespace</span> 表空间表;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> study <span class="keyword">identified</span> <span class="keyword">by</span> <span class="string">"test"</span> <span class="keyword">default</span> <span class="keyword">tablespace</span> data_test;</span><br><span class="line"></span><br><span class="line">授权：</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">connect</span>,<span class="keyword">resource</span> <span class="keyword">to</span> study;</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">create</span> <span class="keyword">session</span> <span class="keyword">to</span> study;</span><br><span class="line"></span><br><span class="line">创建表：</span><br><span class="line">创建一张学生表</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(  </span><br><span class="line">  stuid      <span class="built_in">number</span>(<span class="number">10</span>)   primary <span class="keyword">key</span>,  </span><br><span class="line">  stuname    <span class="built_in">varchar2</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,  </span><br><span class="line">  stusex     <span class="built_in">varchar2</span>(<span class="number">2</span>)  <span class="keyword">default</span> <span class="string">'男'</span> <span class="keyword">check</span>(stusex <span class="keyword">in</span>(<span class="string">'男'</span>,<span class="string">'女'</span>))</span><br><span class="line">);  </span><br><span class="line"></span><br><span class="line">查看表结构：</span><br><span class="line">desc student;</span><br><span class="line"></span><br><span class="line">修改表结构：</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 语句用于在已有的表中添加、修改或删除列。</span><br><span class="line">在表中添加列：</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name</span><br><span class="line"><span class="keyword">ADD</span> column_name datatype</span><br><span class="line">还可以设置默认值</span><br><span class="line">例如：</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> user_info <span class="keyword">add</span>(log_time <span class="built_in">TIMESTAMP</span>(<span class="number">6</span>) <span class="keyword">default</span> <span class="keyword">sysdate</span> <span class="keyword">not</span> <span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">添加多个字段：</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> table_name <span class="keyword">add</span> (col_1 <span class="built_in">varchar2</span>(<span class="number">8</span>) <span class="keyword">default</span> ‘<span class="number">00000000</span>’ <span class="keyword">not</span> <span class="literal">null</span>, col_2 <span class="built_in">NUMBER</span> <span class="keyword">default</span> <span class="number">3</span> <span class="keyword">not</span> <span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">添加字段前应先判断表中是否已经存在这个字段</span><br><span class="line">可以用下面SQL语句，查询是否已存在字段LOG_TIME</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">from</span> USER_TAB_COLUMNS <span class="keyword">where</span> TABLE_NAME = ‘USER_INFO’ <span class="keyword">AND</span> COLUMN_NAME = ‘LOG_TIME’?  <span class="comment">#注意这里表名与列名必须是大写的。。。。。</span></span><br><span class="line">也可以查询ALL_TAB_COLUMNS</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">from</span> USER_TAB_COLUMNS <span class="keyword">where</span> TABLE_NAME = ‘USER_INFO’ <span class="keyword">AND</span> COLUMN_NAME = ‘LOG_TIME’;</span><br><span class="line">返回值为1—存在此字段</span><br><span class="line">返回值为0—不存在此字段。</span><br><span class="line"></span><br><span class="line">删除字段：</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> user_info</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">COLUMN</span> log_time;</span><br><span class="line"></span><br><span class="line">删除多个字段：</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name <span class="keyword">drop</span> (col_1,col_2);</span><br><span class="line"></span><br><span class="line">更新时间戳为系统时间+1小时。</span><br><span class="line"><span class="keyword">update</span> USER_INFO <span class="keyword">set</span> LOG_TIME = <span class="keyword">sysdate</span> +<span class="built_in">INTERVAL</span> ‘<span class="number">1</span>’ <span class="keyword">hour</span> <span class="keyword">where</span> USER_ID=‘<span class="number">2</span>’;</span><br><span class="line">oracle TIMESTAMP 由 System.Data.OracleClient存入数据库时，保存精度到秒，所以可以直接将从数据库读到的TIMESTAMP类型数据mapping为 System.DateTime 类型。不用考虑精度掉失问题。</span><br><span class="line">OracleCommand.ExecuteNonQuery方法：</span><br><span class="line">对于 <span class="keyword">UPDATE</span>、<span class="keyword">INSERT</span> 和 <span class="keyword">DELETE</span> 语句，返回值为该命令所影响的行数。</span><br><span class="line">对于 <span class="keyword">ALTER</span> <span class="keyword">TABLE</span>，<span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 和 <span class="keyword">DROP</span> <span class="keyword">TABLE</span> 语句，返回值为 <span class="number">0</span>。 对于其他所有类型的语句，返回值为 <span class="number">-1</span>。 如果发生回滚，则返回值也为<span class="number">-1</span>。</span><br><span class="line"></span><br><span class="line">修改表中字段的长度</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名称 <span class="keyword">modify</span> 字段名 <span class="built_in">varchar2</span>（<span class="number">100</span> <span class="keyword">byte</span>）；</span><br><span class="line">例如： 将表epc_info 中的epc字段长度改为<span class="number">100</span>。</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> epc_info <span class="keyword">modify</span> epc <span class="built_in">varchar2</span>(<span class="number">100</span> <span class="keyword">byte</span>);</span><br><span class="line"></span><br><span class="line">插入数据：</span><br><span class="line">SQL&gt; insert into student values(1,'xiaoming','男');</span><br><span class="line">1 row created.</span><br><span class="line"></span><br><span class="line">插入多条数据</span><br><span class="line">SQL&gt; INSERT ALL</span><br><span class="line">INTO student <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">'xiaozhang'</span>, <span class="string">'女'</span>)</span><br><span class="line"><span class="keyword">INTO</span> student <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="string">'xiaogang'</span>, <span class="string">'男'</span>)</span><br><span class="line"><span class="keyword">INTO</span> student <span class="keyword">VALUES</span> (<span class="number">4</span>, <span class="string">'xiaohua'</span>, <span class="string">'女'</span>)</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> dual;</span><br><span class="line"></span><br><span class="line">查询数据：</span><br><span class="line">SQL&gt; select * from student;</span><br><span class="line"></span><br><span class="line">     STUID STUNAME                                                      STUSEX</span><br><span class="line"><span class="comment">---------- ------------------------------------------------------------ ------</span></span><br><span class="line">         1 xiaoming                                                     男</span><br><span class="line">         2 xiaozhang                                                    女</span><br><span class="line">         3 xiaogang                                                     男</span><br><span class="line">         4 xiaohua                                                      女</span><br><span class="line"></span><br><span class="line">条件查询：</span><br><span class="line">SQL&gt; select * from student where stuname = 'xiaogang';</span><br><span class="line"></span><br><span class="line">     STUID STUNAME                                                      STUSEX</span><br><span class="line"><span class="comment">---------- ------------------------------------------------------------ ------</span></span><br><span class="line">         3 xiaogang                                                     男</span><br><span class="line"></span><br><span class="line">提交/回滚：</span><br><span class="line"><span class="keyword">commit</span>/<span class="keyword">rollback</span>;</span><br><span class="line"></span><br><span class="line">修改数据：</span><br><span class="line">SQL&gt; update student set stuname = 'xiaoxiao' where stuname='xiaoming';</span><br><span class="line">1 row updated.</span><br><span class="line">别忘了提交 <span class="keyword">commit</span></span><br><span class="line"></span><br><span class="line">删除数据：</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> student <span class="keyword">where</span> stuid=<span class="number">2</span> <span class="keyword">or</span> stuid=<span class="number">3</span>;</span><br><span class="line"><span class="keyword">commit</span>;</span><br><span class="line"></span><br><span class="line">总结：</span><br><span class="line"></span><br><span class="line"><span class="comment">--插入数据 insert into     表名（列名） values(插入的数据)</span></span><br><span class="line"><span class="comment">--修改数据 update         表名 set   where （筛选条件）</span></span><br><span class="line"><span class="comment">--删除数据 delete from 表名 where（筛选条件）</span></span><br><span class="line"><span class="comment">--删除表   drop table     表名</span></span><br></pre></td></tr></table></figure>

<h3 id="六、扩展"><a href="#六、扩展" class="headerlink" title="六、扩展"></a>六、扩展</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">获取表字段：</span><br><span class="line"><span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> user_tab_columns</span><br><span class="line"><span class="keyword">where</span> Table_Name=<span class="string">'用户表'</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> column_name</span><br><span class="line"></span><br><span class="line">获取表注释：</span><br><span class="line"><span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> user_tab_comments</span><br><span class="line"><span class="keyword">where</span> Table_Name=<span class="string">'用户表'</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> Table_Name</span><br><span class="line"></span><br><span class="line">获取字段注释：</span><br><span class="line"><span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> user_col_comments</span><br><span class="line"><span class="keyword">where</span> Table_Name=<span class="string">'用户表'</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> column_name</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 获取表：*/</span></span><br><span class="line"><span class="keyword">select</span> table_name <span class="keyword">from</span> user_tables; //当前用户的表      </span><br><span class="line"><span class="keyword">select</span> table_name <span class="keyword">from</span> all_tables; //所有用户的表  </span><br><span class="line"><span class="keyword">select</span> table_name <span class="keyword">from</span> dba_tables; //包括系统表</span><br><span class="line"><span class="keyword">select</span> table_name <span class="keyword">from</span> dba_tables <span class="keyword">where</span> owner=<span class="string">'zfxfzb'</span></span><br><span class="line"><span class="comment">/*</span></span><br></pre></td></tr></table></figure>



</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">MiaoZhenChao</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://www.luanyu.cool/2020/09/03/Centos%207%20%E5%AE%89%E8%A3%85%E5%8D%95%E8%8A%82%E7%82%B9ORACLE/">http://www.luanyu.cool/2020/09/03/Centos%207%20%E5%AE%89%E8%A3%85%E5%8D%95%E8%8A%82%E7%82%B9ORACLE/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://www.luanyu.cool" target="_blank">ZhenChaoNotes</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/oracle/">oracle</a></div><div class="post_share"><div class="social-share" data-image="https://ssyerv1.oss-cn-hangzhou.aliyuncs.com/picture/de883141fa8a4538bbf777190d871e03.jpg!sswm" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><button class="reward-button"><i class="fas fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechat.jpg" alt="wechat" onclick="window.open('http://123.57.180.161/wechat.jpg')"/><div class="post-qr-code__desc">wechat</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/alipay.jpg" alt="alipay" onclick="window.open('http://123.57.180.161/alipay.jpg')"/><div class="post-qr-code__desc">alipay</div></li></ul></div></button></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/09/04/VMware%E5%AE%89%E8%A3%85Windows%20server%202012%20R2/"><img class="prev-cover" data-src="https://ssyerv1.oss-cn-hangzhou.aliyuncs.com/picture/efaf97e7d95a47f4a1409fe027d79a05.jpg!sswm" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">VMware安装windows server 2012 r2详细教程</div></div></a></div><div class="next-post pull-right"><a href="/2020/08/22/%E5%AD%A6%E4%B9%A0%E5%BC%BA%E5%9B%BD%E6%9C%AC%E5%9C%B0%E9%A2%98%E5%BA%93-8%E6%9C%8822%E6%97%A5/"><img class="next-cover" data-src="https://ssyerv1.oss-cn-hangzhou.aliyuncs.com/picture/5638193945cc493b900103820c599e60.jpg!sswm" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">学习强国本地题库-8月22日</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/09/10/使用zabbix监控oracle数据库/" title="使用zabbix监控oracle数据库"><img class="relatedPosts_cover" data-src="https://ssyerv1.oss-cn-hangzhou.aliyuncs.com/picture/d91493756f794e678d99cb9524cd2dfd.jpg!sswm"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-10</div><div class="relatedPosts_title">使用zabbix监控oracle数据库</div></div></a></div><div class="relatedPosts_item"><a href="/2020/09/08/PLSQL使用方法详解/" title="PLSQL使用方法详解"><img class="relatedPosts_cover" data-src="https://ssyerv1.oss-cn-hangzhou.aliyuncs.com/picture/fcf1601376b645ba9c2d6a5c3be019ca.jpg!sswm"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-08</div><div class="relatedPosts_title">PLSQL使用方法详解</div></div></a></div><div class="relatedPosts_item"><a href="/2020/09/07/PLSQ安装、汉化、破解、登陆教程/" title="PLSQ安装、汉化、破解、登陆教程"><img class="relatedPosts_cover" data-src="https://ssyerv1.oss-cn-hangzhou.aliyuncs.com/picture/a867368a01694cc6b6736bd30e383f76.jpg!sswm"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-07</div><div class="relatedPosts_title">PLSQ安装、汉化、破解、登陆教程</div></div></a></div><div class="relatedPosts_item"><a href="/2020/08/17/Oracle和mysql区别/" title="Oracle和mysql区别"><img class="relatedPosts_cover" data-src="https://ssyerv1.oss-cn-hangzhou.aliyuncs.com/picture/4a7378b0ff1d407bb40808e5bb335eb0.jpeg!sswm"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-08-17</div><div class="relatedPosts_title">Oracle和mysql区别</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div id="disqus_thread"></div><script>var disqus_config = function () {
  this.page.url = 'http://www.luanyu.cool/2020/09/03/Centos%207%20%E5%AE%89%E8%A3%85%E5%8D%95%E8%8A%82%E7%82%B9ORACLE/';
  this.page.identifier = '2020/09/03/Centos 7 安装单节点ORACLE/';
  this.page.title = 'Centos 7 安装ORACLE';
};
(function() { 
  var d = document, s = d.createElement('script');
  s.src = 'https://.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();
</script><script>function getDisqusCount() {
  var d = document, s = d.createElement('script');
  s.src = 'https://.disqus.com/count.js';
  s.id = 'dsq-count-scr';
  (d.head || d.body).appendChild(s);
}

window.addEventListener('load', getDisqusCount, false);</script></div></article></main><footer id="footer" style="background-image: url(https://ssyerv1.oss-cn-hangzhou.aliyuncs.com/picture/94e85eeb4f4c4446b014713b6b93df8b.jpg!sswm)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2010 - 2021 By MiaoZhenChao</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">Hi, welcome to my <a href="/">blog</a>!</div><div class="icp"><a href="http://www.beian.miit.gov.cn/state/outPortal/loginPortal.action" target="_blank" rel="noopener"><img class="icp-icon" src="/img/icp.png"/><span>豫ICP备20019375号</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><button id="readmode" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font_plus" title="放大字体"><i class="fas fa-plus"></i></button><button id="font_minus" title="缩小字体"><i class="fas fa-minus"></i></button><button class="translate_chn_to_cht" id="translateLink" title="简繁转换">繁</button><button id="darkmode" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" title="设置"><i class="fas fa-cog"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fas fa-comments"></i></a><button class="close" id="mobile-toc-button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script defer id="ribbon" src="/js/third-party/canvas-ribbon.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script id="ribbon_piao" mobile="false" src="/js/third-party/piao.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="/js/third-party/canvas-nest.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script src="/js/search/local-search.js"></script><script>if (document.getElementsByClassName('mermaid').length) {
  loadScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js',function () {
    mermaid.initialize({
      theme: 'default',
  })
})
}</script><script src="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/js/mouse_snow.min.js"></script><script src="/js/Lete.js"></script><script src="/js/daovoice.js"></script><script type="text/javascript" src="/js/crash_cheat.js"></script></body></html>